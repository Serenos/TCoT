# Annotate the training trajectory with reasoning

## Specification of the experimental setup

You're an expert reinforcement learning researcher. You've trained an optimal policy for controlling a robotic arm. The
robot successfully completed a task specified by the instruction: "pick up the black bowl on the wooden cabinet and place it on the plate". For that purpose, the
robotic arm executed a sequence of actions. Consecutive moves that were executed are the following:


```python
trajectory_features = {
    0: "stop"
    1: "stop"
    2: "stop"
    3: "stop"
    4: "stop"
    5: "stop"
    6: "stop"
    7: "stop"
    8: "stop"
    9: "stop"
    10: "stop"
    11: "move forward"
    12: "move forward"
    13: "stop"
    14: "stop"
    15: "stop"
    16: "stop"
    17: "stop"
    18: "stop"
    19: "stop"
    20: "stop"
    21: "stop"
    22: "move forward"
    23: "move forward"
    24: "stop"
    25: "stop"
    26: "stop"
    27: "stop"
    28: "stop"
    29: "stop"
    30: "stop"
    31: "stop"
    32: "stop"
    33: "stop"
    34: "stop"
    35: "stop"
    36: "stop"
    37: "stop"
    38: "stop"
    39: "stop"
    40: "stop"
    41: "stop"
    42: "stop"
    43: "stop"
    44: "stop"
    45: "stop"
    46: "stop"
    47: "stop"
    48: "stop"
    49: "stop"
    50: "stop"
    51: "stop"
    52: "stop"
    53: "stop"
    54: "stop"
    55: "stop"
    56: "stop"
    57: "stop"
    58: "stop"
    59: "move up"
    60: "move up"
    61: "move up"
    62: "move left up"
    63: "stop"
    64: "stop"
    65: "stop"
    66: "stop"
    67: "stop"
    68: "stop"
    69: "move right"
    70: "move right down"
    71: "move right down"
    72: "move down"
    73: "move down"
    74: "move down"
    75: "move down"
    76: "move down"
    77: "stop"
    78: "stop"
    79: "stop"
    80: "stop"
    81: "stop"
    82: "stop"
    83: "stop"
    84: "stop"
    85: "stop"
    86: "stop"
    87: "stop"
    88: "stop"
    89: "stop"
    90: "stop"
    91: "stop"
    92: "stop"
    93: "stop"
    94: "move up"
    95: "move up"
    96: "stop"
    97: "stop"
    98: "move left"
    99: "stop"
    100: "stop"
    101: "stop"
    102: "stop"
    103: "stop"
    104: "stop"
    105: "stop"
    106: "stop"
    107: "move left"
    108: "move left"
    109: "move left"
    110: "move left"
    111: "move left"
    112: "move left"
    113: "move left"
    114: "move left"
    115: "move left"
    116: "move left"
    117: "move left"
    118: "move left"
    119: "move left"
    120: "move left"
    121: "move left"
    122: "move left"
    123: "move left"
    124: "move left"
    125: "move left"
    126: "move left"
    127: "move left"
    128: "move left down"
    129: "move down"
    130: "move down"
    131: "move down"
    132: "move down"
    133: "move down"
    134: "move down"
    135: "move down"
    136: "move down"
    137: "move down"
    138: "move down"
    139: "move down"
    140: "move down"
    141: "move down"
    142: "move down"
    143: "move down"
    144: "stop"
    145: "stop"
    146: "stop"
    147: "stop"
    148: "stop"
    149: "stop"
    150: "stop"
    151: "stop"
    152: "stop"
    153: "stop"
    154: "stop"
    155: "stop"
    156: "stop"
    157: "stop"
    158: "stop"
    159: "stop"
    160: "stop"
    161: "stop"
    162: "stop"
    163: "stop"
    164: "stop"
    165: "stop"
    166: "stop"
    167: "stop"
    168: "stop"
    169: "stop"
    170: "stop"
    171: "stop"
    172: "stop"
}
```

Each entry in that dictionary corresponds to a single step on the trajectory and describes the move that is about to be executed.

## Scene description

The robot is operating in the following environment. A silver bowl is on the wooden cabinet, a black bowl is on the plate, and the cabinet is on the wooden table.

## Your objective

I want you to annotate the given trajectory with reasoning. That is, for each step, I need to know not only which action should be chosen, but importantly what reasoning justifies that action choice. I want you to be descriptive and include all the relevant information available. The reasoning should include the task to complete, the remaining high-level steps, the high-level movements that should be executed and why they are required, the premises that allow inferring the direction of each move, including the locations of relevant objects, possible obstacles or difficulties to avoid, and any other relevant justification.

### Begin by describing the task

Start by giving an overview of the task. Make it more comprehensive than the simple instruction. Include the activity, the objects the robotic arm interacts with, and their relative locations in the environment. Then, describe the high-level movements that were most likely executed, based on the task that was completed and the primitive movements that were executed. Then, for each high-level movement write the interval of steps that movement consists of. Also, for each high-level movement write a justification for why it should be executed. Write an answer for this part using markdown and natural language. Be descriptive and highlight all the relevant details, but ensure that your description is consistent with the trajectory that was executed, specified by the features listed above in the `trajectory_features` dictionary.

### List the reasonings for each step

Finally, for each step describe the reasoning that allows to determine the correct action. For each step describe the remaining part of the objective, the current progress, the objects that are still relevant for determining the plan, and the plan for the next steps, based on the available features. Start the reasoning from a high level and gradually add finer features. I need you to be descriptive and very precise. Ensure that the reasoning is consistent with the task and the executed trajectory. Write the answer for this part as a Python-executable dictionary. For every step in the initial trajectory there should be exactly one separate item of the form <step id>:<reasoning>. <reasoning> can be set to 'same' if it is the same as last step. The final dictionary should have exactly the same set of integer keys as the dictionary of features provided in the `trajectory_features` dictionary above. The reasoning should be a single string that describes the reasoning in natural language and includes all the required features.

Each reasoning string should have the following form:
- Describe the full task that remains to be completed (but only describe what remains), and place it inside a tag <task>.
- Describe the complete high-level plan for completing the remaining task (the list of remaining high-level steps), and place it inside a tag <plan>.
- Describe the high-level step that should be executed now (chosen from the list of high-level steps), and place it inside a tag <subtask>.
- Describe why the chosen high-level step should be executed now, which features of the current environment influence that decision, and how it should be done. Place it within a tag <subtask_reason>.
- Describe the current primitive movement of the arm that needs to be executed, and place it inside a tag <move>.
- Describe why the chosen movement should be executed now and which features of the current environment influence that decision. Place it inside a tag <move_reason>.

## Task summary

Here is a breakdown of what needs to be done:

- Describe the task.
- Describe the high-level movements that were executed, based on the completed task and the listed features.
- Describe the plan for the solution that allowed the robot to complete the task successfully.
- For each step on the trajectory, describe the reasoning that leads to determining the correct action. Reasoning can be set to 'same' if it is the same as last step.
- At the very end of the response, write a single label FINISHED to indicate that the answer is complete.